{% extends 'base.html' %}

{% block content %}
    <div class="habit-container">
        <h2>My Habits</h2>
        
        {% if habits %}
            <ul class="habit-list">
            {% for habit in habits %}
                <li class="habit-item">
                    <div class="habit-details">
                        <strong class="habit-name">{{ habit.name }}</strong> 
                        <span class="habit-frequency">({{ habit.get_frequency_display }})</span>
                    </div>
                    <div class="habit-meta">
                        Created at: <span class="habit-date">{{ habit.created_at }}</span>
                    </div>
                    <div class="habit-actions">
                        <a href="{% url 'edit_habit' habit.id %}" class="small-btn">Edit</a> | 
                        <a href="{% url 'delete_habit' habit.id %}" class="small-btn">Delete</a> | 
                        <form action="{% url 'complete_habit' habit.id %}" method="POST" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="small-btn">Mark as Completed</button>
                        </form>
                    </div>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p>You don't have any habits yet. Start adding some!</p>
        {% endif %}
        <p>To-dos:</p>
        <p>Edit habits</p>
        <p>Delete habits</p>
        <p>Mark habits as completed</p>
        <p>Give habits rewards (experience points)</p>
        <div>
            <a href="{% url 'add_habit' %}" class="btn">Add a New Habit</a>
        </div>
    </div>
{% endblock %}